import React, { createContext, useState } from 'react';

// Creates a context object to store the shared state variables.
export const GlobalStateContext = createContext();

// Once imported into main.jsx, the GlobalStateProvider component will wrap main.jsx's child components, allowing them to access the shared state variables.
export const GlobalStateProvider = ({ children }) => { // This function manages the shared state variables and returns their values to the children components via props.

    // Shared state variables and their initial values
    // Stores the selected category
    const [selectedCategory, setSelectedCategory] = useState('Demographics');
    // Stores the global data
    const [globalData, setGlobalData] = useState(
        {
            "Demographics Category Default Mapped Variable: Total Population": {
                "000101": 3163,
                "000102": 1569,
                "000200": 3119,
                "000300": 2547,
                "000400": 1829,
                "000500": 3171,
                "000600": 4611,
                "000700": 2677,
                "000801": 2378,
                "000802": 5143,
                "000900": 5741,
                "001000": 1521,
                "001100": 4478,
                "001300": 2419,
                "001400": 2186,
                "001500": 2006,
                "001600": 2310,
                "001700": 2304,
                "001800": 2702,
                "001900": 5279,
                "002001": 5779,
                "002002": 2272,
                "002200": 2067,
                "002302": 5070,
                "002303": 4326,
                "002304": 2644,
                "002400": 4325,
                "002500": 3529,
                "002600": 5052,
                "002700": 3627,
                "002800": 3849,
                "002900": 4155,
                "003000": 5387,
                "003101": 2799,
                "003102": 2545,
                "003201": 1848,
                "003202": 6717,
                "003300": 2762,
                "003402": 4279,
                "003404": 3967,
                "003405": 6544,
                "003406": 5895,
                "003407": 4537,
                "003501": 3812,
                "003503": 2591,
                "003504": 3955,
                "003600": 4636,
                "003701": 2884,
                "003702": 4908,
                "003703": 4789,
                "003704": 7973,
                "003802": 1841,
                "003803": 3508,
                "003804": 5843,
                "003906": 5274,
                "003908": 6206,
                "003909": 3275,
                "003910": 2749,
                "003911": 3675,
                "003912": 4673,
                "003913": 9189,
                "003914": 2323,
                "003915": 4765,
                "003916": 592,
                "003917": 2035,
                "003918": 3153,
                "004001": 6482,
                "004003": 5574,
                "004005": 1440,
                "004006": 1309,
                "004007": 2010,
                "004103": 2188,
                "004104": 3938,
                "004105": 5056,
                "004106": 4952,
                "004107": 4959,
                "004204": 5490,
                "004205": 7301,
                "004207": 3305,
                "004208": 7558,
                "004209": 4261,
                "004210": 5676
            },
            "Entrepreneurship Category Default Mapped Variable: Percent Self-Employed": {
                "000101": "10.39",
                "000102": "20.51",
                "000200": "10.61",
                "000300": "7.45",
                "000400": "3.06",
                "000500": "11.82",
                "000600": "6.19",
                "000700": "13.83",
                "000801": "1.10",
                "000802": "5.32",
                "000900": "3.55",
                "001000": "1.27",
                "001100": "8.56",
                "001300": "4.68",
                "001400": "7.00",
                "001500": "15.26",
                "001600": "10.30",
                "001700": "13.42",
                "001800": "1.29",
                "001900": "4.08",
                "002001": "6.99",
                "002002": "6.53",
                "002200": "8.27",
                "002302": "12.03",
                "002303": "11.09",
                "002304": "18.98",
                "002400": "10.98",
                "002500": "12.83",
                "002600": "8.20",
                "002700": "7.55",
                "002800": "7.89",
                "002900": "6.41",
                "003000": "12.96",
                "003101": "16.95",
                "003102": "8.75",
                "003201": "12.35",
                "003202": "7.40",
                "003300": "2.88",
                "003402": "2.71",
                "003404": "13.64",
                "003405": "4.69",
                "003406": "7.96",
                "003407": "8.13",
                "003501": "8.13",
                "003503": "4.61",
                "003504": "7.85",
                "003600": "14.32",
                "003701": "24.64",
                "003702": "6.57",
                "003703": "11.11",
                "003704": "6.03",
                "003802": "24.15",
                "003803": "8.89",
                "003804": "7.59",
                "003906": "10.14",
                "003908": "10.36",
                "003909": "4.99",
                "003910": "2.23",
                "003911": "7.44",
                "003912": "9.28",
                "003913": "8.85",
                "003914": "7.89",
                "003915": "10.82",
                "003916": "17.61",
                "003917": "7.60",
                "003918": "11.42",
                "004001": "3.78",
                "004003": "8.08",
                "004005": "13.30",
                "004006": "26.88",
                "004007": "14.71",
                "004103": "9.88",
                "004104": "3.97",
                "004105": "10.52",
                "004106": "12.38",
                "004107": "13.41",
                "004204": "5.44",
                "004205": "8.57",
                "004207": "12.06",
                "004208": "11.46",
                "004209": "9.13",
                "004210": "8.85"
            },
            "Housing & Infrastructure Category Default Mapped Variable: Median Value of Owner-Occupied Housing Units": {
                "000101": 286100,
                "000102": 380300,
                "000200": 197900,
                "000300": 139900,
                "000400": 171800,
                "000500": 352700,
                "000600": 504100,
                "000700": 355800,
                "000801": -666666666,
                "000802": 310400,
                "000900": 194000,
                "001000": 116100,
                "001100": 70800,
                "001300": 159200,
                "001400": 118400,
                "001500": 109000,
                "001600": 169500,
                "001700": 259400,
                "001800": 129700,
                "001900": 168400,
                "002001": 136500,
                "002002": 177300,
                "002200": 241900,
                "002302": 372500,
                "002303": 491600,
                "002304": 756200,
                "002400": 399500,
                "002500": 276500,
                "002600": 204200,
                "002700": 354800,
                "002800": 229500,
                "002900": 231000,
                "003000": 207900,
                "003101": 143400,
                "003102": 155100,
                "003201": 141100,
                "003202": 161900,
                "003300": 193100,
                "003402": 172300,
                "003404": 179700,
                "003405": 205200,
                "003406": 200400,
                "003407": 199000,
                "003501": 161200,
                "003503": 158000,
                "003504": 235300,
                "003600": 346200,
                "003701": 782600,
                "003702": 197800,
                "003703": 232000,
                "003704": 249200,
                "003802": 370800,
                "003803": 180400,
                "003804": 103800,
                "003906": 316700,
                "003908": 340100,
                "003909": 179200,
                "003910": 136500,
                "003911": 118000,
                "003912": 353500,
                "003913": 357000,
                "003914": 241200,
                "003915": 340800,
                "003916": 645700,
                "003917": 176300,
                "003918": 409100,
                "004001": 138300,
                "004003": 237600,
                "004005": 381700,
                "004006": 543300,
                "004007": 549000,
                "004103": 173100,
                "004104": 159900,
                "004105": 353600,
                "004106": 281400,
                "004107": 319300,
                "004204": 231800,
                "004205": 309100,
                "004207": 427800,
                "004208": 418500,
                "004209": 235400,
                "004210": 268800
            },
            "Public Health Category Default Mapped Variable: Percentage Without Health Insurance": {
                "000101": "10.37",
                "000102": "5.48",
                "000200": "5.66",
                "000300": "8.87",
                "000400": "12.36",
                "000500": "3.28",
                "000600": "4.32",
                "000700": "4.74",
                "000801": "1.22",
                "000802": "5.70",
                "000900": "5.23",
                "001000": "15.38",
                "001100": "14.65",
                "001300": "16.01",
                "001400": "12.99",
                "001500": "9.97",
                "001600": "10.52",
                "001700": "4.99",
                "001800": "3.99",
                "001900": "8.73",
                "002001": "27.15",
                "002002": "13.51",
                "002200": "6.72",
                "002302": "5.90",
                "002303": "13.87",
                "002304": "0.64",
                "002400": "7.40",
                "002500": "4.31",
                "002600": "8.51",
                "002700": "6.56",
                "002800": "5.07",
                "002900": "3.75",
                "003000": "6.09",
                "003101": "10.69",
                "003102": "8.88",
                "003201": "5.25",
                "003202": "11.15",
                "003300": "10.86",
                "003402": "5.12",
                "003404": "5.95",
                "003405": "3.89",
                "003406": "6.58",
                "003407": "7.96",
                "003501": "6.95",
                "003503": "9.73",
                "003504": "4.45",
                "003600": "0.73",
                "003701": "4.32",
                "003702": "6.43",
                "003703": "5.92",
                "003704": "3.27",
                "003802": "5.11",
                "003803": "6.24",
                "003804": "21.97",
                "003906": "3.23",
                "003908": "4.96",
                "003909": "4.14",
                "003910": "18.22",
                "003911": "16.98",
                "003912": "7.68",
                "003913": "0.71",
                "003914": "4.99",
                "003915": "1.28",
                "003916": "1.35",
                "003917": "4.86",
                "003918": "3.40",
                "004001": "10.17",
                "004003": "15.33",
                "004005": "0.28",
                "004006": "0.69",
                "004007": "2.59",
                "004103": "10.83",
                "004104": "7.44",
                "004105": "3.03",
                "004106": "4.68",
                "004107": "2.94",
                "004204": "2.24",
                "004205": "4.12",
                "004207": "1.42",
                "004208": "1.86",
                "004209": "1.48",
                "004210": "3.84"
            },
            "Education Category Default Mapped Variable: Percentage of Population with a Bachelor's Degree or Higher": {
                "000101": "48.16",
                "000102": "49.65",
                "000200": "42.14",
                "000300": "30.46",
                "000400": "10.38",
                "000500": "64.27",
                "000600": "80.47",
                "000700": "65.44",
                "000801": "52.70",
                "000802": "75.44",
                "000900": "44.52",
                "001000": "26.64",
                "001100": "11.33",
                "001300": "15.28",
                "001400": "22.62",
                "001500": "17.62",
                "001600": "25.02",
                "001700": "52.42",
                "001800": "47.48",
                "001900": "29.48",
                "002001": "8.48",
                "002002": "20.64",
                "002200": "46.97",
                "002302": "63.15",
                "002303": "51.47",
                "002304": "79.71",
                "002400": "80.71",
                "002500": "63.58",
                "002600": "42.84",
                "002700": "52.26",
                "002800": "56.20",
                "002900": "49.56",
                "003000": "48.46",
                "003101": "17.89",
                "003102": "28.53",
                "003201": "24.58",
                "003202": "20.66",
                "003300": "31.64",
                "003402": "46.93",
                "003404": "30.92",
                "003405": "35.74",
                "003406": "38.22",
                "003407": "41.26",
                "003501": "35.84",
                "003503": "40.70",
                "003504": "41.06",
                "003600": "63.79",
                "003701": "22.51",
                "003702": "33.96",
                "003703": "51.55",
                "003704": "52.10",
                "003802": "45.36",
                "003803": "40.05",
                "003804": "14.63",
                "003906": "67.95",
                "003908": "59.38",
                "003909": "44.26",
                "003910": "23.56",
                "003911": "30.41",
                "003912": "45.58",
                "003913": "68.33",
                "003914": "51.07",
                "003915": "61.82",
                "003916": "68.71",
                "003917": "50.43",
                "003918": "49.98",
                "004001": "33.72",
                "004003": "44.72",
                "004005": "67.88",
                "004006": "79.32",
                "004007": "49.55",
                "004103": "49.33",
                "004104": "37.88",
                "004105": "54.36",
                "004106": "61.67",
                "004107": "63.89",
                "004204": "49.07",
                "004205": "61.82",
                "004207": "67.93",
                "004208": "71.26",
                "004209": "51.36",
                "004210": "45.62"
            },
            "Income & Employment Category Default Mapped Variable: Median Household Income": {
                "000101": 24704,
                "000102": 52609,
                "000200": 40782,
                "000300": 54909,
                "000400": 27679,
                "000500": 73984,
                "000600": 65139,
                "000700": 56750,
                "000801": -666666666,
                "000802": 26071,
                "000900": 19229,
                "001000": 54531,
                "001100": 34665,
                "001300": 43563,
                "001400": 58232,
                "001500": 48737,
                "001600": 47981,
                "001700": 55841,
                "001800": 21013,
                "001900": 32779,
                "002001": 45217,
                "002002": 65296,
                "002200": 78281,
                "002302": 65854,
                "002303": 52955,
                "002304": 209097,
                "002400": 63683,
                "002500": 56633,
                "002600": 60813,
                "002700": 54935,
                "002800": 89625,
                "002900": 83340,
                "003000": 58271,
                "003101": 70184,
                "003102": 65962,
                "003201": 72429,
                "003202": 54684,
                "003300": 55544,
                "003402": 57123,
                "003404": 31117,
                "003405": 58193,
                "003406": 64213,
                "003407": 67606,
                "003501": 49475,
                "003503": 39706,
                "003504": 44125,
                "003600": 114802,
                "003701": 143214,
                "003702": 85061,
                "003703": 86623,
                "003704": 94436,
                "003802": 77237,
                "003803": 82074,
                "003804": 48647,
                "003906": 113333,
                "003908": 95045,
                "003909": 67254,
                "003910": 55321,
                "003911": 46090,
                "003912": 77537,
                "003913": 140755,
                "003914": 72938,
                "003915": 126806,
                "003916": 167750,
                "003917": 84013,
                "003918": 84957,
                "004001": 54697,
                "004003": 52763,
                "004005": 122344,
                "004006": 216607,
                "004007": 105833,
                "004103": 56000,
                "004104": 44703,
                "004105": 100083,
                "004106": 112197,
                "004107": 127245,
                "004204": 68655,
                "004205": 123424,
                "004207": 140769,
                "004208": 122121,
                "004209": 89738,
                "004210": 86480
            }
        }

    );
    // Stores the selected geography
    const [selectedGeography, setSelectedGeography] = useState('tracts');

    const [geojsonData, setGeojsonData] = useState();

    // Value to be passed to provider consumers
    const value = {
        selectedCategory,
        setSelectedCategory,
        globalData,
        setGlobalData,
        selectedGeography,
        setSelectedGeography,
        geojsonData,
        setGeojsonData,
    };

    return (
        // React's Context API provider component
        <GlobalStateContext.Provider value={value}>
            {children}
        </GlobalStateContext.Provider>
    );
};
